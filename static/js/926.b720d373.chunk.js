"use strict";(self.webpackChunkreact_first=self.webpackChunkreact_first||[]).push([[926],{1926:function(s,e,a){a.r(e),a.d(e,{default:function(){return T}});var n=a(5861),t=a(9439),r=a(4687),i=a.n(r),o="Massages_massages__sK+DR",c="Massages_users__UqwpF",d="Massages_usersSmallWidth__D4JJk",l="Massages_users990Width__muZE8",u="Massages_users750Width__4PN-X",h="Massages_userMassages__SIWId",f="Massages_massage__wl1mI",g="Massages_container__MT1Ze",_="Massages_containerSmallWidth__KhdLh",m="Massages_formsContainer__cu7hK",w="Massages_textarea__EZqMJ",p="Massages_button__cZnoY",x="Massages_InputSearchUsers__SDxTw",v="Massages_SearchUsersFlexContainer__zA+ae",M=a(2791),j=a(8687),N=a(9660),I=a(8180),U=a(9982),y=a(5705),Z=a(7575),P=a(3097),S="UsersMessags_messageViewed__WY2eZ",k="UsersMessags_messageNotViewed__tcaGL",W="UsersMessags_myMessage__LMGDs",b="UsersMessags_myPhoto__R7kaI",L="UsersMessags_messageHelper__0hEsJ",D="UsersMessags_userMassage__g+4Os",z="UsersMessags_userPhoto__NWXKH",C=a(184),R=0,E=function(s){var e=(0,j.v9)((function(s){return s.auth.photo})),a=(0,j.I0)(),t=function(){var s=(0,n.Z)(i().mark((function s(e,n){return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a((0,N.PM)(e,n));case 1:case"end":return s.stop()}}),s)})));return function(e,a){return s.apply(this,arguments)}}();return(0,M.useEffect)((function(){++R<=3&&a((0,N.n3)(window.location.href.split("/")[5]))}),[window.location.href.split("/")[5]]),s.senderId===s.myId?(0,C.jsx)("div",{style:window.innerWidth<=450?{fontSize:16}:{fontSize:20},className:W,children:(0,C.jsxs)("span",{className:L,children:[(0,C.jsx)("img",{className:b,src:e,alt:"Avatar",title:"User Photo"}),(0,C.jsxs)("div",{children:[s.body,!0===s.viewed?(0,C.jsx)(Z.Z,{className:S}):(0,C.jsx)(P.Z,{className:k})]}),(0,C.jsx)("div",{title:"Delete your message (only for you)",style:{marginLeft:30,cursor:"pointer"},onClick:function(){return t(s.id,s.userId)},children:"X"})]})}):(0,C.jsxs)("div",{style:window.innerWidth<=450?{fontSize:16}:{fontSize:20},className:D,children:[(0,C.jsx)("img",{className:z,src:s.photo,alt:"Avatar",title:"User Photo"}),s.body]})},J=a(501),G="SelectUsers_user__DJ7aD",K="SelectUsers_activeUser__fDKT+",O="SelectUsers_online__VsGZl",A=function(s){var e=s.hasNewMessages;return e=!0===e?"#81b53e":"#f0ad4e",(0,C.jsx)("div",{onClick:function(){return s.setUserIdUrl("#"===window.location.href.split("/")[4]?window.location.href.split("/")[6]:window.location.href.split("/")[5])},className:G,children:(0,C.jsxs)(J.OL,{to:"/massages/"+s.userId,className:function(s){return s.isActive?K:G},children:[(0,C.jsx)("img",{src:s.userPhoto,alt:""}),s.userName,(0,C.jsx)("div",{style:{background:e},className:O})]})})},F=a(9302),V=a(300),Y=function(s){return(0,C.jsx)("div",{className:window.innerWidth<=1300?window.innerWidth<=990?window.innerWidth<=750?u:l:d:c,children:s.shortUsers})},B=function(s){return(0,C.jsxs)("div",{className:h,children:[(0,C.jsxs)("div",{className:f,children:[(0,C.jsx)(J.OL,{onClick:function(){return s.setReloadesPage(s.reloadesPage+1)},to:"/massages",children:"Back"}),s.shortMassages]}),(0,C.jsx)(y.l0,{children:(0,C.jsxs)("div",{className:m,children:[(0,U.Gr)(w,"message",U.gx,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."),(0,C.jsx)(F.M,{className:p,children:"Send"})]})})]})},H=(0,I.W)((function(){var s=(0,M.useState)(window.location.href.split("/")[5]),e=(0,t.Z)(s,2),a=e[0],r=e[1],c=(0,M.useState)(1),d=(0,t.Z)(c,2),l=d[0],u=d[1],h=(0,j.v9)((function(s){return s.auth.id})),f=(0,j.v9)((function(s){return s.massagesPage.users})),m=(0,j.v9)((function(s){return s.massagesPage.massages}));f.map((function(s){m.map((function(e){if(s.id===e.senderId)return e.photo=s.photos.small}))}));var w=(0,j.v9)((function(s){return s.massagesPage.users.map((function(s){return(0,C.jsx)(A,{userIdURL:a,setUserIdUrl:r,hasNewMessages:s.hasNewMessages,userPhoto:s.photos.small,userId:s.id,userName:s.userName},s.id)}))})),p=m.map((function(s,e){return(0,C.jsx)(E,{photo:s.photo,userId:a,id:s.id,viewed:s.viewed,myId:h,senderId:s.senderId,body:s.body},e)})),I=(0,j.I0)();return(0,M.useEffect)((function(){I((0,N.Y6)()),I((0,N.n3)(a))}),[a]),(0,C.jsx)(y.J9,{initialValues:{message:"",userId:""},onSubmit:function(){var s=(0,n.Z)(i().mark((function s(e){return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""===e.message||" "===e.message){s.next=5;break}return s.next=3,I((0,N.yQ)(a,e.message));case 3:e.message="",I((0,N.n3)(a));case 5:if(""===e.userId){s.next=9;break}return s.next=8,I((0,N.w6)(e.userId));case 8:I((0,N.Y6)());case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),children:(0,C.jsxs)("main",{className:o,children:[(0,C.jsx)(V.Z,{page:"Messages",containerPage:"MessagesPage"}),(0,C.jsxs)(y.l0,{className:v,children:[(0,U.Gr)(x,"userId",U.II,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ID \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430"),(0,C.jsx)(F.M,{type:"default",children:"Send"})]}),(0,C.jsxs)("div",{className:window.innerWidth<=1300?_:g,children:[window.innerWidth<=900?"#"===window.location.href.split("/")[4]?void 0===window.location.href.split("/")[6]:void 0===window.location.href.split("/")[5]?(0,C.jsx)(Y,{shortUsers:w}):(0,C.jsx)(C.Fragment,{}):(0,C.jsx)(Y,{shortUsers:w}),window.innerWidth<=900?"#"===window.location.href.split("/")[4]?void 0!==window.location.href.split("/")[6]:void 0!==window.location.href.split("/")[5]?(0,C.jsx)(B,{setReloadesPage:u,reloadesPage:l,shortMassages:p}):(0,C.jsx)(C.Fragment,{}):(0,C.jsx)(B,{setReloadesPage:u,reloadesPage:l,shortMassages:p})]})]})})})),T=H},7575:function(s,e,a){a.d(e,{Z:function(){return c}});var n=a(1413),t=a(2791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=a(9726),o=function(s,e){return t.createElement(i.Z,(0,n.Z)((0,n.Z)({},s),{},{ref:e,icon:r}))};o.displayName="CheckOutlined";var c=t.forwardRef(o)},3097:function(s,e,a){a.d(e,{Z:function(){return c}});var n=a(1413),t=a(2791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},i=a(9726),o=function(s,e){return t.createElement(i.Z,(0,n.Z)((0,n.Z)({},s),{},{ref:e,icon:r}))};o.displayName="SendOutlined";var c=t.forwardRef(o)}}]);
//# sourceMappingURL=926.b720d373.chunk.js.map