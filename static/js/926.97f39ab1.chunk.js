"use strict";(self.webpackChunkreact_first=self.webpackChunkreact_first||[]).push([[926],{1926:function(s,e,a){a.r(e),a.d(e,{default:function(){return T}});var n=a(5861),r=a(9439),t=a(4687),i=a.n(t),c="Massages_massages__sK+DR",o="Massages_users__UqwpF",d="Massages_usersSmallWidth__D4JJk",l="Massages_users990Width__muZE8",u="Massages_users750Width__4PN-X",h="Massages_userMassages__SIWId",m="Massages_massage__wl1mI",f="Massages_container__MT1Ze",_="Massages_containerSmallWidth__KhdLh",g="Massages_formsContainer__cu7hK",w="Massages_textarea__EZqMJ",x="Massages_button__cZnoY",p="Massages_InputSearchUsers__SDxTw",v="Massages_SearchUsersFlexContainer__zA+ae",M=a(2791),j=a(8687),I=a(9660),N=a(8180),y=a(9982),Z=a(5705),U=a(8164),S=a(7575),k=a(3097),b="UsersMessags_messageViewed__WY2eZ",W="UsersMessags_messageNotViewed__tcaGL",P="UsersMessags_myMessage__LMGDs",L="UsersMessags_myPhoto__R7kaI",D="UsersMessags_messageHelper__0hEsJ",z="UsersMessags_userMassage__g+4Os",C="UsersMessags_userPhoto__NWXKH",E=a(184),J=0,A=function(s){var e=(0,j.v9)((function(s){return s.auth.photo})),a=(0,j.I0)(),r=function(){var s=(0,n.Z)(i().mark((function s(e,n){return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a((0,I.PM)(e,n));case 1:case"end":return s.stop()}}),s)})));return function(e,a){return s.apply(this,arguments)}}();return(0,M.useEffect)((function(){++J<=3&&a((0,I.n3)(window.location.href.split("/")[5]))}),[window.location.href.split("/")[5]]),s.senderId===s.myId?(0,E.jsx)("div",{style:window.innerWidth<=450?{fontSize:16}:{fontSize:20},className:P,children:(0,E.jsxs)("span",{className:D,children:[(0,E.jsx)("img",{className:L,src:e,alt:"Avatar",title:"User Photo"}),(0,E.jsxs)("div",{children:[s.body,!0===s.viewed?(0,E.jsx)(S.Z,{className:b}):(0,E.jsx)(k.Z,{className:W})]}),(0,E.jsx)("div",{title:"Delete your message (only for you)",style:{marginLeft:30,cursor:"pointer"},onClick:function(){return r(s.id,s.userId)},children:"X"})]})}):(0,E.jsxs)("div",{style:window.innerWidth<=450?{fontSize:16}:{fontSize:20},className:z,children:[(0,E.jsx)("img",{className:C,src:s.photo,alt:"Avatar",title:"User Photo"}),s.body]})},G=a(501),K="SelectUsers_user__DJ7aD",R="SelectUsers_activeUser__fDKT+",F="SelectUsers_online__VsGZl",O=function(s){var e=s.hasNewMessages;return e=!0===e?"#81b53e":"#f0ad4e",console.log(window.location.href.split("/")),(0,E.jsx)("div",{onClick:function(){return s.setUserIdUrl("#"===window.location.href.split("/")[4]?window.location.href.split("/")[6]:window.location.href.split("/")[5])},className:K,children:(0,E.jsxs)(G.OL,{to:"/massages/"+s.userId,className:function(s){return s.isActive?R:K},children:[(0,E.jsx)("img",{src:s.userPhoto,alt:""}),s.userName,(0,E.jsx)("div",{style:{background:e},className:F})]})})},V=a(9302),Y=a(6871),H=(0,N.W)((function(){var s=(0,M.useState)(window.location.href.split("/")[5]),e=(0,r.Z)(s,2),a=e[0],t=e[1],N=(0,j.v9)((function(s){return s.auth.id})),S=(0,j.v9)((function(s){return s.massagesPage.users})),k=(0,j.v9)((function(s){return s.massagesPage.massages}));S.map((function(s){k.map((function(e){if(s.id===e.senderId)return e.photo=s.photos.small}))}));var b=(0,j.v9)((function(s){return s.massagesPage.users.map((function(s){return(0,E.jsx)(O,{userIdURL:a,setUserIdUrl:t,hasNewMessages:s.hasNewMessages,userPhoto:s.photos.small,userId:s.id,userName:s.userName},s.id)}))})),W=k.map((function(s,e){return(0,E.jsx)(A,{photo:s.photo,userId:a,id:s.id,viewed:s.viewed,myId:N,senderId:s.senderId,body:s.body},e)})),P=(0,j.I0)();return(0,M.useEffect)((function(){P((0,I.Y6)()),P((0,I.n3)(a))}),[a]),(0,E.jsx)(Z.J9,{initialValues:{message:"",userId:""},onSubmit:function(){var s=(0,n.Z)(i().mark((function s(e){return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""===e.message||" "===e.message){s.next=5;break}return s.next=3,P((0,I.yQ)(a,e.message));case 3:e.message="",P((0,I.n3)(a));case 5:if(""===e.userId){s.next=9;break}return s.next=8,P((0,I.w6)(e.userId));case 8:P((0,I.Y6)());case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),children:(0,E.jsxs)("main",{className:c,children:[void 0===window.location.href.split("/")[5]&&"Anonim"!==S[0].userName?(0,E.jsx)(Y.Fg,{to:"/massages/"+S[0].id}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)(U.Z,{style:{margin:"16px 0"},children:[(0,E.jsx)(U.Z.Item,{children:"Start"}),(0,E.jsx)(U.Z.Item,{children:"MessagesPage"}),(0,E.jsx)(U.Z.Item,{children:"Messages"})]}),(0,E.jsxs)(Z.l0,{className:v,children:[(0,y.Gr)(p,"userId",y.II,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ID \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430"),(0,E.jsx)(V.M,{type:"default",children:"Send"})]}),(0,E.jsxs)("div",{className:window.innerWidth<=1300?_:f,children:[(0,E.jsx)("div",{className:window.innerWidth<=1300?window.innerWidth<=990?window.innerWidth<=750?u:l:d:o,children:b}),(0,E.jsxs)("div",{className:h,children:[(0,E.jsx)("div",{className:m,children:W}),(0,E.jsx)(Z.l0,{children:(0,E.jsxs)("div",{className:g,children:[(0,y.Gr)(w,"message",y.gx,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."),(0,E.jsx)(V.M,{className:x,children:"Send"})]})})]})]})]})})})),T=H},7575:function(s,e,a){a.d(e,{Z:function(){return o}});var n=a(1413),r=a(2791),t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=a(9726),c=function(s,e){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},s),{},{ref:e,icon:t}))};c.displayName="CheckOutlined";var o=r.forwardRef(c)},3097:function(s,e,a){a.d(e,{Z:function(){return o}});var n=a(1413),r=a(2791),t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},i=a(9726),c=function(s,e){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},s),{},{ref:e,icon:t}))};c.displayName="SendOutlined";var o=r.forwardRef(c)}}]);
//# sourceMappingURL=926.97f39ab1.chunk.js.map