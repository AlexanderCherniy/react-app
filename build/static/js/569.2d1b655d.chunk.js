"use strict";(self.webpackChunkreact_first=self.webpackChunkreact_first||[]).push([[569],{5569:function(e,s,n){n.r(s),n.d(s,{default:function(){return L}});var r=n(5861),t=n(9439),a=n(4687),i=n.n(a),u={users:"Massages_users__UqwpF",usersSmallWidth:"Massages_usersSmallWidth__D4JJk",users990Width:"Massages_users990Width__muZE8",users750Width:"Massages_users750Width__4PN-X",userMassages:"Massages_userMassages__SIWId",massage:"Massages_massage__wl1mI",container:"Massages_container__MT1Ze",containerSmallWidth:"Massages_containerSmallWidth__KhdLh",formsContainer:"Massages_formsContainer__cu7hK",textarea:"Massages_textarea__EZqMJ",button:"Massages_button__cZnoY",InputSearchUsers:"Massages_InputSearchUsers__SDxTw",SearchUsersFlexContainer:"Massages_SearchUsersFlexContainer__zA+ae"},c=n(2791),o=n(8687),l=(0,n(6916).P1)((function(e){return e.massagesPage.massages}),(function(e){return e})),d=n(9660),f=n(8180),h=n(9982),m=n(5705),g=n(8164),p=n(7575),v=n(1413),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},y=n(9726),x=function(e,s){return c.createElement(y.Z,(0,v.Z)((0,v.Z)({},e),{},{ref:s,icon:_}))};x.displayName="SendOutlined";var w=c.forwardRef(x),M="UsersMessags_messageViewed__WY2eZ",j="UsersMessags_messageNotViewed__tcaGL",I="UsersMessags_myMessage__LMGDs",S="UsersMessags_messageHelper__0hEsJ",N="UsersMessags_userMassage__g+4Os",b=n(184),k=function(e){var s=(0,o.I0)(),n=function(){var e=(0,r.Z)(i().mark((function e(n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s((0,d.PM)(n,r));case 1:case"end":return e.stop()}}),e)})));return function(s,n){return e.apply(this,arguments)}}();return e.senderId===e.myId?(0,b.jsxs)("div",{style:window.innerWidth<=450?{fontSize:16}:{fontSize:20},className:I,children:[(0,b.jsxs)("span",{className:S,children:[e.body,!0===e.viewed?(0,b.jsx)(p.Z,{className:M}):(0,b.jsx)(w,{className:j})]}),(0,b.jsx)("div",{title:"Delete your message (only for you)",style:{marginLeft:30,cursor:"pointer"},onClick:function(){return n(e.id,e.userId)},children:"X"})]}):(0,b.jsx)("div",{style:window.innerWidth<=450?{fontSize:16}:{fontSize:20},className:N,children:e.body})},U=n(501),W="SelectUsers_user__DJ7aD",Z="SelectUsers_activeUser__fDKT+",C="SelectUsers_online__VsGZl",z=function(e){var s=e.hasNewMessages;return s=!0===s?"#81b53e":"#f0ad4e",(0,b.jsx)("div",{onClick:function(){return e.setUserIdUrl(window.location.href.split("/")[5])},className:W,children:(0,b.jsxs)(U.OL,{to:"/massages/"+e.userId,className:function(e){return e.isActive?Z:W},children:[(0,b.jsx)("img",{src:e.userPhoto,alt:""}),e.userName,(0,b.jsx)("div",{style:{background:s},className:C})]})})},E=n(9302),D=(0,f.W)((function(){var e=(0,c.useState)(window.location.href.split("/")[5]),s=(0,t.Z)(e,2),n=s[0],a=s[1],f=(0,o.v9)((function(e){return e.auth.id})),p=(0,o.v9)((function(e){return e.massagesPage.users.map((function(e){return(0,b.jsx)(z,{setUserIdUrl:a,hasNewMessages:e.hasNewMessages,userPhoto:e.photos.small,userId:e.id,userName:e.userName},e.id)}))})),v=(0,o.v9)((function(e){return l(e).map((function(e,s){return(0,b.jsx)(k,{userId:n,id:e.id,viewed:e.viewed,myId:f,senderId:e.senderId,body:e.body},s)}))})),_=(0,o.I0)();return(0,c.useEffect)((function(){_((0,d.Y6)()),_((0,d.n3)(n))}),[n]),(0,b.jsx)(m.J9,{initialValues:{message:"",userId:""},onSubmit:function(){var e=(0,r.Z)(i().mark((function e(s){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===s.message||" "===s.message){e.next=5;break}return e.next=3,_((0,d.yQ)(n,s.message));case 3:s.message="",_((0,d.n3)(n));case 5:if(""===s.userId){e.next=9;break}return e.next=8,_((0,d.w6)(s.userId));case 8:_((0,d.Y6)());case 9:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),children:(0,b.jsxs)("main",{className:u.massages,children:[(0,b.jsxs)(g.Z,{style:{margin:"16px 0"},children:[(0,b.jsx)(g.Z.Item,{children:"Start"}),(0,b.jsx)(g.Z.Item,{children:"MessagesPage"}),(0,b.jsx)(g.Z.Item,{children:"Messages"})]}),(0,b.jsxs)(m.l0,{className:u.SearchUsersFlexContainer,children:[(0,h.Gr)(u.InputSearchUsers,"userId",h.II,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ID \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430"),(0,b.jsx)(E.M,{type:"default",children:"Send"})]}),(0,b.jsxs)("div",{className:window.innerWidth<=1300?u.containerSmallWidth:u.container,children:[(0,b.jsx)("div",{className:window.innerWidth<=1300?window.innerWidth<=990?window.innerWidth<=750?u.users750Width:u.users990Width:u.usersSmallWidth:u.users,children:p}),(0,b.jsxs)("div",{className:u.userMassages,children:[(0,b.jsx)("div",{className:u.massage,children:v}),(0,b.jsx)(m.l0,{children:(0,b.jsxs)("div",{className:u.formsContainer,children:[(0,h.Gr)(u.textarea,"message",h.gx,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."),(0,b.jsx)(E.M,{className:u.button,children:"Send"})]})})]})]})]})})})),L=D},7575:function(e,s,n){n.d(s,{Z:function(){return c}});var r=n(1413),t=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=n(9726),u=function(e,s){return t.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:s,icon:a}))};u.displayName="CheckOutlined";var c=t.forwardRef(u)},6916:function(e,s,n){n.d(s,{P1:function(){return c}});var r="NOT_FOUND";var t=function(e,s){return e===s};function a(e,s){var n="object"===typeof s?s:{equalityCheck:s},a=n.equalityCheck,i=void 0===a?t:a,u=n.maxSize,c=void 0===u?1:u,o=n.resultEqualityCheck,l=function(e){return function(s,n){if(null===s||null===n||s.length!==n.length)return!1;for(var r=s.length,t=0;t<r;t++)if(!e(s[t],n[t]))return!1;return!0}}(i),d=1===c?function(e){var s;return{get:function(n){return s&&e(s.key,n)?s.value:r},put:function(e,n){s={key:e,value:n}},getEntries:function(){return s?[s]:[]},clear:function(){s=void 0}}}(l):function(e,s){var n=[];function t(e){var t=n.findIndex((function(n){return s(e,n.key)}));if(t>-1){var a=n[t];return t>0&&(n.splice(t,1),n.unshift(a)),a.value}return r}return{get:t,put:function(s,a){t(s)===r&&(n.unshift({key:s,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,l);function f(){var s=d.get(arguments);if(s===r){if(s=e.apply(null,arguments),o){var n=d.getEntries(),t=n.find((function(e){return o(e.value,s)}));t&&(s=t.value)}d.put(arguments,s)}return s}return f.clearCache=function(){return d.clear()},f}function i(e){var s=Array.isArray(e[0])?e[0]:e;if(!s.every((function(e){return"function"===typeof e}))){var n=s.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return s}function u(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];var t=function(){for(var s=arguments.length,r=new Array(s),t=0;t<s;t++)r[t]=arguments[t];var a,u=0,c={memoizeOptions:void 0},o=r.pop();if("object"===typeof o&&(c=o,o=r.pop()),"function"!==typeof o)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof o+"]");var l=c,d=l.memoizeOptions,f=void 0===d?n:d,h=Array.isArray(f)?f:[f],m=i(r),g=e.apply(void 0,[function(){return u++,o.apply(null,arguments)}].concat(h)),p=e((function(){for(var e=[],s=m.length,n=0;n<s;n++)e.push(m[n].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(p,{resultFunc:o,memoizedResultFunc:g,dependencies:m,lastResult:function(){return a},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),p};return t}var c=u(a)}}]);
//# sourceMappingURL=569.2d1b655d.chunk.js.map